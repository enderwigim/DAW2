@model MiluTienda.Models.Producto

@{
    ViewData["Title"] = "Cambiar Imagen";
}

<div class="container my-5">
    <div class="card shadow-sm rounded p-4">
        <h1 class="text-center text-dark mb-4">Cambiar Imagen del Producto</h1>
        <div class="row">
            <div class="col-md-6 text-center">
                @{
                    var nombreImagen = "no-imagen.jpg";
                    if (Model.Imagen != null)
                    {
                        nombreImagen = Model.Imagen;
                    }
                }
                <img src="~/imagenes/productos/@nombreImagen" class="img-fluid rounded" style="max-height: 200px;" asp-append-version="true" />
            </div>
            <div class="col-md-6">
                <dl class="row">
                    <dt class="col-sm-4 fw-bold">@Html.DisplayNameFor(model => model.Nombre)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Nombre)</dd>

                    <dt class="col-sm-4 fw-bold">@Html.DisplayNameFor(model => model.Descripcion)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Descripcion)</dd>

                    <dt class="col-sm-4 fw-bold">@Html.DisplayNameFor(model => model.Precio)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Precio)</dd>

                    <dt class="col-sm-4 fw-bold">@Html.DisplayNameFor(model => model.Categoria)</dt>
                    <dd class="col-sm-8">@Html.DisplayFor(model => model.Categoria.Descripcion)</dd>
                </dl>

                <form enctype="multipart/form-data" asp-action="CambiarImagen" class="mt-3">
                    <input type="hidden" asp-for="Id" />

                    <div class="mb-3">
                        <label for="Imagen" class="form-label fw-bold">Seleccionar nueva imagen</label>
                        <input type="file" asp-for="Imagen" class="form-control form-control-sm" />
                    </div>

                    <button type="submit" class="btn btn-custom-inverse w-100">Actualizar Imagen</button>
                </form>
            </div>
        </div>
        <div class="text-center mt-4">
            <a asp-action="Index" class="btn btn-link text-decoration-none">Volver al Listado de Productos</a>
        </div>
    </div>
</div>
